(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.apiFetch;var o=e.n(t);const n=window.wp.hooks;document.addEventListener("DOMContentLoaded",(function(){const e=e=>{const t=document.createElement("ul");return e.forEach((e=>{const o=document.createElement("li");o.textContent=e,t.appendChild(o)})),t};document.querySelectorAll("form.wp-block-omniform-form").forEach((t=>{const r={},a=t.querySelector(".wp-block-omniform-response-notification.success-response-notification"),c=t.querySelector(".wp-block-omniform-response-notification.error-response-notification"),i=[a,c],s=(e,t=[])=>{i.forEach((e=>{e.textContent="",e.style.display="none"})),e.textContent="",r[e.className].forEach((t=>{e.appendChild(t.cloneNode(!0))})),t.forEach((t=>{e.appendChild(t)})),e.style.display="block",e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")};i.forEach((e=>(e=>{r[e.className]=Array.from(e.children).map((e=>e.cloneNode(!0))),e.textContent=""})(e))),t.addEventListener("submit",(async t=>{t.preventDefault();const r=await(0,n.applyFilters)("omniform.prepareFormElementForSubmission",t.target),{action:i,method:l}=r,d=new FormData(r);await o()({url:i,method:l,body:d}).then((()=>{s(a),t.target.reset()})).catch((t=>{s(c,[e(Object.values(t.invalid_fields))])}))}))}))}))})();