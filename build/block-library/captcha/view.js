(()=>{"use strict";const e=window.wp.hooks;let a=null;window.omniformCaptchaOnLoad=()=>{const e=document.querySelector(".wp-block-omniform-captcha"),t={sitekey:e.dataset.sitekey,theme:e.dataset.theme,size:e.dataset.size};switch(e.dataset.service){case"hcaptcha":a=window.hcaptcha.render(e,t);break;case"recaptchav2":case"recaptchav3":a=window.grecaptcha.render(e,t);break;case"turnstile":a=window.turnstile.render(e,t)}},(0,e.addFilter)("omniform.prepareFormElementForSubmission","omniform/captcha/validate",(async e=>{const t=e.querySelector(".wp-block-omniform-captcha"),c=e.querySelector('[name$="captcha-response"]');return"recaptchav3"===t.dataset.service&&await window.grecaptcha.execute(t.dataset.sitekey,{action:"submit"}).then((e=>{c.value=e})),"recaptchav2"===t.dataset.service&&("invisible"===t.dataset.size?await window.grecaptcha.execute().then((e=>(c.value=e,e))):await window.grecaptcha.getResponse(a)),"hcaptcha"===t.dataset.service&&await window.hcaptcha.execute(a,{async:!0}).then((({response:e})=>{c.value=e})),"turnstile"===t.dataset.service&&await window.turnstile.getResponse(a),e}))})();